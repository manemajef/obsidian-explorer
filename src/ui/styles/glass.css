/* ============================================================
   Glass — CSS for glass.tsx components.
   Scoped to .explorer-container.
   ============================================================ */

/* ---------- Theme tokens ---------- */
.explorer-container {
  --glass-bg: rgba(0, 0, 0, 0.01);
  --glass-bg-hover: rgba(0, 0, 0, 0.06);
  --glass-border: rgba(0, 0, 0, 0.08);
  --glass-border-bottom: rgba(0, 0, 0, 0.12);
  --glass-shadow: rgba(0, 0, 0, 0.12);
  --glass-shadow-hover: rgba(0, 0, 0, 0.2);
  --glass-shadow-inset: rgba(255, 255, 255, 0.9);
  --glass-text: var(--text-normal);
  --glass-highlight-opacity: 0.85;
  --glass-shine-color: rgba(255, 255, 255, 0.95);
  --glass-shine-secondary: rgba(255, 255, 255, 0.4);
}

.theme-dark .explorer-container {
  --glass-bg: rgba(255, 255, 255, 0.03);
  --glass-bg-hover: rgba(255, 255, 255, 0.07);
  --glass-border: rgba(255, 255, 255, 0.08);
  --glass-border-bottom: rgba(255, 255, 255, 0.05);
  --glass-shadow: rgba(0, 0, 0, 0.5);
  --glass-shadow-hover: rgba(0, 0, 0, 0.6);
  --glass-shadow-inset: rgba(255, 255, 255, 0.08);
  --glass-text: var(--text-normal);
  --glass-highlight-opacity: 0.15;
  --glass-shine-color: rgba(255, 255, 255, 0.18);
  --glass-shine-secondary: rgba(255, 255, 255, 0.08);
}

/* ---------- Base glass surface ---------- */
.glass {
  position: relative;
  color: var(--glass-text);
  background: var(--glass-bg);
  border: 1px solid var(--glass-border);
  border-bottom-color: var(--glass-border-bottom);
  isolation: isolate;
  will-change: transform;
  transition:
    background 0.2s ease,
    box-shadow 0.2s ease,
    transform 0.2s ease,
    border-color 0.2s ease;
  box-shadow:
    0 1px 2px var(--glass-shadow),
    0 2px 8px var(--glass-shadow),
    0 4px 16px rgba(0, 0, 0, 0.04),
    inset 0 1px 0 var(--glass-shadow-inset);
}

/* Specular highlight — top edge shine */
.glass::before {
  content: "";
  position: absolute;
  inset: 0;
  z-index: 1;
  border-radius: inherit;
  pointer-events: none;
  opacity: var(--glass-highlight-opacity);
  background: linear-gradient(
    176deg,
    var(--glass-shine-color) 0%,
    var(--glass-shine-secondary) 8%,
    transparent 40%
  );
  mask-image: linear-gradient(to bottom, black 0%, transparent 55%);
  -webkit-mask-image: linear-gradient(to bottom, black 0%, transparent 55%);
  will-change: opacity;
  transform: translateZ(0);
}

/* Rim light — subtle edge glow */
.glass::after {
  content: "";
  position: absolute;
  inset: 0;
  z-index: 1;
  border-radius: inherit;
  pointer-events: none;
  opacity: 0.5;
  background: radial-gradient(
    ellipse 80% 50% at 50% 0%,
    var(--glass-shine-color) 0%,
    transparent 60%
  );
  will-change: opacity;
  transform: translateZ(0);
}

/* ---------- GlassItem — standalone circle button ---------- */
.glass-item {
  border-radius: 50%;
  clip-path: inset(0 round 50%);
  padding: 0.35em;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  aspect-ratio: 1;
}

.glass-item:hover {
  background: var(--glass-bg-hover);
  transform: scale(1.06);
  box-shadow:
    0 4px 16px var(--glass-shadow-hover),
    0 2px 6px var(--glass-shadow),
    inset 0 1px 0 var(--glass-shadow-inset);
}

.glass-item:active {
  transform: scale(0.95);
  transition-duration: 0.08s;
}

.glass-item--active {
  background: var(--glass-bg-hover);
  box-shadow: inset 0 1px 3px var(--glass-shadow);
}

/* ---------- GlassGroup — shared surface for multiple items ---------- */
.glass-group {
  border-radius: 2em;
  clip-path: inset(0 round 2em);
  padding: 0.15em 0.5em;
  display: inline-flex;
  align-items: center;
  gap: 0.5em;
}

/* ---------- GlassGroupItem — flat button inside a group ---------- */
.glass-group-item {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  padding: 0.2em;
  color: inherit;
  will-change: transform;
  transition:
    background 0.2s ease,
    transform 0.2s ease;
}

.glass-group-item:hover {
  transform: scale(1.06);
}

.glass-group-item:active {
  transform: scale(0.95);
  transition-duration: 0.08s;
}
